"use strict";(self.webpackChunkhoney_beer_app=self.webpackChunkhoney_beer_app||[]).push([[595],{8595:(x,d,r)=>{r.r(d),r.d(d,{CreateOfferModule:()=>v});var s=r(4755),c=r(7179),f=r(9401),p=r(727),u=r(9300),l=r(5731),m=r(7738),C=r(8223),y=r(7372),g=r(8143),h=r(3157),e=r(5206);const b=[{path:"",component:(()=>{class o{constructor(t,n){this.fb=t,this.offerController=n,this.subs=new p.w0,this.offer=new m.Z,this.company=new l.Z,this.subs.add(h.E.productToLoadObservable.subscribe(a=>{this.offer.productInstance=a})),this.subs.add(y.Z.companyObservable.subscribe(a=>{this.company=a})),this.offerAmount=new f.NI(this.offer.amount,[f.kI.required,f.kI.min(0)]),this.offerBeginDate=new f.NI(this.offer.beginDate.toLocaleDateString(),f.kI.required),this.offerEndDate=new f.NI(this.offer.endDate.toLocaleDateString(),f.kI.required),this.offerByCompanyForm=this.fb.group({discount:this.offerAmount,beginDate:this.offerBeginDate,endDate:this.offerEndDate}),this.subs.add(this.offerByCompanyForm.valueChanges.pipe((0,u.h)(a=>this.offerByCompanyForm.valid)).subscribe(a=>{this.offer.amount=a.discount,this.offer.beginDate=new Date(a.beginDate),this.offer.endDate=new Date(a.endDate)}))}ngOnDestroy(){this.subs.unsubscribe()}saveOffer(){let t=new C.Z;t.companyInstance=this.company,t.pib=this.company.PIB,t.productId=null==this.offer.productInstance?0n:this.offer.productInstance.productId,t.offerInstance=this.offer,this.offerController.saveOffer(t).subscribe(n=>alert("Offer is successfully saved."),n=>alert(n.error.detail))}convertDate(t){let n=t.getMonth()+1,a=t.getDate();return t.getFullYear()+"-"+(n<10?"0"+n:n)+"-"+(a<10?"0"+a:a)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.qu),e.Y36(g.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-offer"]],decls:22,vars:12,consts:[[1,"offerByCompanyCard",3,"formGroup"],["type","number","placeholder","Discount","formControlName","discount",3,"value"],["for","beginDate"],["type","date","name","beginDate","formControlName","beginDate",3,"value"],["for","endDate"],["type","date","name","endDate","formControlName","endDate",3,"value"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"div")(3,"label",2),e._uU(4,"Begin date:"),e.qZA(),e._UZ(5,"input",3),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div")(8,"label",4),e._uU(9,"End date:"),e.qZA(),e._UZ(10,"input",5),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"h2"),e._uU(13,"For product: "),e._UZ(14,"br"),e._uU(15),e.qZA(),e.TgZ(16,"p"),e._uU(17,"Description: "),e._UZ(18,"br"),e._uU(19),e.qZA(),e.TgZ(20,"button",6),e.NdJ("click",function(){return n.saveOffer()}),e._uU(21,"Create offer"),e.qZA()()),2&t&&(e.Q6J("formGroup",n.offerByCompanyForm),e.xp6(1),e.s9C("value",n.offer.amount),e.xp6(4),e.Q6J("value",e.xi3(6,6,n.convertDate(n.offer.beginDate),"yyyy-MM-dd")),e.xp6(5),e.Q6J("value",e.xi3(11,9,n.convertDate(n.offer.beginDate),"yyyy-MM-dd")),e.xp6(5),e.hij(" ",null==n.offer.productInstance?null:n.offer.productInstance.name,""),e.xp6(4),e.hij(" ",null==n.offer.productInstance?null:n.offer.productInstance.description,""))},dependencies:[f.Fj,f.wV,f.JJ,f.JL,f.sg,f.u,s.uU],styles:[".offerByCompanyCard[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px;margin-inline:auto;padding:20px;border-radius:5px;min-width:250px;width:-moz-fit-content;width:fit-content;max-width:330px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;height:-moz-fit-content;height:fit-content;gap:20px;background-color:#eabc68;box-shadow:0 15px 20px #00000040;max-width:200px;text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{text-align:center;font-family:Freizeit120;padding:5px 0}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .offerByCompanyCard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}.offerByCompanyCard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:5px 20px;font-size:16px;border-radius:3px;outline:none}.offerByCompanyCard[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:1px solid #B7ADA1;border-radius:3px;padding:10px 20px;font-family:Freizeit120;background-color:#1e1e1e;color:#fff;transition:background-color .2s ease-in-out,color .2s ease-in-out,box-shadow .2s ease-in-out}.offerByCompanyCard[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#1e1e1e;border-color:#b7ada1;background-color:#fffcf2;box-shadow:4px -4px #fffcf2,-4px 4px #fffcf2,-4px -4px #fffcf2,4px 4px #fffcf2}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,c.Bz.forChild(b),c.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.ez,O]}),o})()}}]);