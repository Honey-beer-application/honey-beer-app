"use strict";(self.webpackChunkhoney_beer_app=self.webpackChunkhoney_beer_app||[]).push([[638],{638:(B,p,a)=>{a.r(p),a.d(p,{CreateOfferModule:()=>b});var s=a(4755),d=a(7179),f=a(9401),c=a(727),y=a(9300),u=a(8223),C=a(7372),l=a(8143),e=a(5206),m=a(5302);const g=[{path:"",component:(()=>{class n{constructor(o,t){this.fb=o,this.offerByCompanyController=t,this.subs=new c.w0,this.offerByCompany=new u.Z,this.subs.add(C.Z.companyObservable.subscribe(r=>{this.offerByCompany.companyInstance=r,this.offerByCompany.pib=r.PIB})),this.subs.add(l.Z.offerToLoadObservable.subscribe(r=>{this.offerByCompany.offerId=r.offerId,this.offerByCompany.productId=r.productId,this.offerByCompany.offerInstance=r})),this.offerAmount=new f.NI(this.offerByCompany.offerInstance.amount,[f.kI.required,f.kI.min(0)]),this.offerBeginDate=new f.NI(this.offerByCompany.offerInstance.beginDate.toLocaleDateString(),f.kI.required),this.offerEndDate=new f.NI(this.offerByCompany.offerInstance.endDate.toLocaleDateString(),f.kI.required),this.offerByCompanyForm=this.fb.group({discount:this.offerAmount,beginDate:this.offerBeginDate,endDate:this.offerEndDate}),this.subs.add(this.offerByCompanyForm.valueChanges.pipe((0,y.h)(r=>this.offerByCompanyForm.valid)).subscribe(r=>{this.offerByCompany.offerInstance.amount=r.discount,this.offerByCompany.offerInstance.beginDate=new Date(r.beginDate),this.offerByCompany.offerInstance.endDate=new Date(r.endDate)}))}ngOnDestroy(){this.subs.unsubscribe()}saveOfferByComapny(){this.subs.add(this.offerByCompanyController.saveOfferByCompany(this.offerByCompany).subscribe(o=>alert("Offer is successfully saved."),o=>alert(o)))}convertDate(o){let t=o.getMonth()+1,r=o.getDate();return o.getFullYear()+"-"+(t<10?"0"+t:t)+"-"+(r<10?"0"+r:r)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(f.qu),e.Y36(m.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-offer"]],decls:22,vars:12,consts:[[1,"offerByCompanyCard",3,"formGroup"],["type","number","placeholder","Discount","formControlName","discount",3,"value"],["for","beginDate"],["type","date","name","beginDate","formControlName","beginDate",3,"value"],["for","endDate"],["type","date","name","endDate","formControlName","endDate",3,"value"],[3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"div")(3,"label",2),e._uU(4,"Begin date:"),e.qZA(),e._UZ(5,"input",3),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div")(8,"label",4),e._uU(9,"End date:"),e.qZA(),e._UZ(10,"input",5),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"h2"),e._uU(13,"For product: "),e._UZ(14,"br"),e._uU(15),e.qZA(),e.TgZ(16,"p"),e._uU(17,"Description: "),e._UZ(18,"br"),e._uU(19),e.qZA(),e.TgZ(20,"button",6),e.NdJ("click",function(){return t.saveOfferByComapny()}),e._uU(21,"Create personalized offer"),e.qZA()()),2&o&&(e.Q6J("formGroup",t.offerByCompanyForm),e.xp6(1),e.s9C("value",t.offerByCompany.offerInstance.amount),e.xp6(4),e.Q6J("value",e.xi3(6,6,t.convertDate(t.offerByCompany.offerInstance.beginDate),"yyyy-MM-dd")),e.xp6(5),e.Q6J("value",e.xi3(11,9,t.convertDate(t.offerByCompany.offerInstance.endDate),"yyyy-MM-dd")),e.xp6(5),e.hij(" ",null==t.offerByCompany.offerInstance.productInstance?null:t.offerByCompany.offerInstance.productInstance.name,""),e.xp6(4),e.hij(" ",null==t.offerByCompany.offerInstance.productInstance?null:t.offerByCompany.offerInstance.productInstance.description,""))},dependencies:[f.Fj,f.wV,f.JJ,f.JL,f.sg,f.u,s.uU],styles:[".offerByCompanyCard[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px;margin-inline:auto;padding:20px;border-radius:5px;min-width:250px;width:-moz-fit-content;width:fit-content;max-width:330px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;height:-moz-fit-content;height:fit-content;gap:20px;background-color:#eabc68;box-shadow:0 15px 20px #00000040;max-width:200px;text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{text-align:center;font-family:Freizeit120;padding:5px 0}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .offerByCompanyCard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}.offerByCompanyCard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:5px 20px;font-size:16px;border-radius:3px;outline:none}.offerByCompanyCard[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:1px solid #B7ADA1;border-radius:3px;padding:10px 20px;font-family:Freizeit120;background-color:#1e1e1e;color:#fff;transition:background-color .2s ease-in-out,color .2s ease-in-out,box-shadow .2s ease-in-out}.offerByCompanyCard[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#1e1e1e;border-color:#b7ada1;background-color:#fffcf2;box-shadow:4px -4px #fffcf2,-4px 4px #fffcf2,-4px -4px #fffcf2,4px 4px #fffcf2}"]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.ez,d.Bz.forChild(g),d.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.ez,h,f.UX]}),n})()}}]);