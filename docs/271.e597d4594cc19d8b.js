"use strict";(self.webpackChunkhoney_beer_app=self.webpackChunkhoney_beer_app||[]).push([[271],{3271:(h,u,a)=>{a.r(u),a.d(u,{NewReservationModule:()=>g});var d=a(4755),l=a(7179),i=a(9401),c=a(727),p=a(9300),v=a(577),f=a(7372),e=a(5206),m=a(6587);const C=[{path:"",component:(()=>{class n{constructor(o,r){this.fb=o,this.reservationController=r,this.subs=new c.w0,this.reservation=new v.Z,this.subs.add(this.reservationController.productObservable.subscribe(t=>{this.reservation.productInstance=t,this.reservation.productId=t.productId})),this.reservationAmount=new i.NI(this.reservation.amount,[i.kI.required,i.kI.min(0)]),this.reservationDeliveryDate=new i.NI(this.reservation.delivery.toLocaleDateString(),i.kI.required),this.reservationForm=this.fb.group({amount:this.reservationAmount,deliveryDate:this.reservationDeliveryDate}),this.subs.add(f.Z.companyObservable.subscribe(t=>{this.reservation.pib=t.PIB})),this.subs.add(this.reservationForm.valueChanges.pipe((0,p.h)(t=>this.reservationForm.valid)).subscribe(t=>{null!=t.amount&&t.amount>0&&(this.reservation.amount=t.amount),null!=t.deliveryDate&&null!=t.deliveryDate&&""!=t.deliveryDate&&(this.reservation.delivery=new Date(t.deliveryDate))}))}ngOnDestroy(){this.subs.unsubscribe()}saveReservation(){this.subs.add(this.reservationController.saveReservation(this.reservation).subscribe(o=>alert("Reservation is successfully saved."),o=>alert(o)))}convertDate(o){let r=o.getMonth()+1,t=o.getDate();return o.getFullYear()+"-"+(r<10?"0"+r:r)+"-"+(t<10?"0"+t:t)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(i.qu),e.Y36(m.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-reservation"]],decls:17,vars:8,consts:[[1,"offerByCompanyCard",3,"formGroup"],["type","number","placeholder","Discount","formControlName","amount",3,"value"],["for","beginDate"],["type","date","name","beginDate","formControlName","deliveryDate",3,"value"],[3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"div")(3,"label",2),e._uU(4,"Delivery date:"),e.qZA(),e._UZ(5,"input",3),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"h2"),e._uU(8,"For product: "),e._UZ(9,"br"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12,"Description: "),e._UZ(13,"br"),e._uU(14),e.qZA(),e.TgZ(15,"button",4),e.NdJ("click",function(){return r.saveReservation()}),e._uU(16,"Create reservation"),e.qZA()()),2&o&&(e.Q6J("formGroup",r.reservationForm),e.xp6(1),e.s9C("value",r.reservation.amount),e.xp6(4),e.Q6J("value",e.xi3(6,5,r.convertDate(r.reservation.delivery),"yyyy-MM-dd")),e.xp6(5),e.hij(" ",r.reservation.productInstance.name,""),e.xp6(4),e.hij(" ",r.reservation.productInstance.description,""))},dependencies:[i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,d.uU],styles:[".offerByCompanyCard[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px;margin-inline:auto;padding:20px;border-radius:5px;min-width:250px;width:-moz-fit-content;width:fit-content;max-width:330px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;height:-moz-fit-content;height:fit-content;gap:20px;background-color:#eabc68;box-shadow:0 15px 20px #00000040;max-width:200px;text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{text-align:center;font-family:Freizeit120;padding:5px 0}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;text-align:center}.offerByCompanyCard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .offerByCompanyCard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}.offerByCompanyCard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:5px 20px;font-size:16px;border-radius:3px;outline:none}.offerByCompanyCard[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:1px solid #B7ADA1;border-radius:3px;padding:10px 20px;font-family:Freizeit120;background-color:#1e1e1e;color:#fff;transition:background-color .2s ease-in-out,color .2s ease-in-out,box-shadow .2s ease-in-out}.offerByCompanyCard[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{color:#1e1e1e;border-color:#b7ada1;background-color:#fffcf2;box-shadow:4px -4px #fffcf2,-4px 4px #fffcf2,-4px -4px #fffcf2,4px 4px #fffcf2}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,l.Bz.forChild(C),l.Bz]}),n})(),g=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,y]}),n})()}}]);